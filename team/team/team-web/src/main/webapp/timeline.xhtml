<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="content">
		<div class="ui-g dashboard">
			<div class="ui-g-12 ui-fluid">
				<div class="card timeline ui-fluid">
					<div class="ui-g">
						
							<div class="ui-g-2">
								<p:commandButton value="New" type="button"
									onclick="PF('newMsg').show();" styleClass="NavyButton"
									style="width:auto" />
							</div>

							<div class="ui-g-6" />
							<div class="ui-g-2">
								<p:selectOneMenu id="titleGroup" widgetVar="titleGroup"
									value="#{timelineController.listTitleGroup}" disabled="false"
									style="width:auto" required="true">
									<f:selectItem itemLabel="เลือกทั้งหมด" itemValue="All" />
									<f:selectItems value="#{timelineController.listTitleGroup}"
										var="item" itemValue="#{item.titleGroupID}"
										itemLabel="#{item.name}" />
									<p:clientValidator />
								</p:selectOneMenu>
							</div>
							<div class="ui-g-2">
								<p:commandButton type="button" value="Refresh"
									icon="ui-icon-refresh" action="#{timelineController.test()}"
									style="width:auto; text-align:right;" />
							</div>
													
						<p:repeat var="message" value="#{timelineController.listMessages}">
							<div class="ui-g-3">
								<span class="event-time">#{message.lastUpdate}</span> <i
									class="material-icons" style="#{message.titlegroup.iconStyle}">#{message.titlegroup.icon}</i>
							</div>
							<div class="ui-g-9">
								<span class="event-owner" style="color: #009688">#{message.user.name}
									#{message.user.surname}</span> <span class="event-text">#{message.description}</span>
								<div class="event-content">
									<p:graphicImage value="/images/#{message.imageName}" />
								</div>
							</div>
						</p:repeat>

						<h:form>
							<p:dialog header="Add New Message" widgetVar="newMsg"
								modal="true" draggable="false" resizable="false" minHeight="600"
								width="75%" heigth="100%" fitViewport="true" responsive="true"
								closable="false">								
								
								 <p:panelGrid id="grid" columns="3" style="margin-top:20px"
									layout="grid" styleClass="ui-panelgrid-blank form-group"> 
							 																	
									<p:outputLabel for="console2" value="#{labelmsg[messagetype]}" />
									<h:panelGroup styleClass="md-selectonemenu">
									<p:selectOneMenu id="console2"
											value="#{selectOneMenuView.console}"
											style="top:5px;" required="true">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<f:selectItem itemLabel="Xbox One" itemValue="Xbox One" />
											<f:selectItem itemLabel="PS4" itemValue="PS4" />
											<f:selectItem itemLabel="Wii U" itemValue="Wii U" />
										</p:selectOneMenu>
																			
										<p:message for="console2" />
									</h:panelGroup>
									<p:spacer />


									<p:outputLabel for="text2" value="#{labelmsg[messagetype]}" />
									<h:panelGroup styleClass="md-inputfield">
										<p:inputTextarea id="text2" rows="3"
											placeholder="Your Message" autoResize="false" required="true" />
										<p:message for="text2" />
									</h:panelGroup>
									<p:spacer />

									<p:outputLabel for="inline" value="Material Error:" />
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="inline" required="true" />
										<label>Default</label>
										<p:message for="inline" />
									</h:panelGroup>
									<p:spacer />

									<p:outputLabel for="mtext" value="Material Text Error:" />
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="mtext" required="true" />
										<label>Text</label>
										<p:message for="mtext" display="text" />
									</h:panelGroup>
									<p:spacer />

									<p:outputLabel for="micon" value="Material Icon Error:" />
									<h:panelGroup styleClass="md-inputfield">
										<p:inputText id="micon" required="true" />
										<label>Icon</label>
										<p:message for="micon" display="icon" />
									</h:panelGroup>
									<p:spacer />
								</p:panelGrid>

								<div class="ui-g-12">
									<div class="ui-g-3" />
									<div class="ui-g-2">
										<p:commandButton id="submitButton" value="Submit"
											actionListener="#{messagesView.growlMessage()}"
											update="grid growl" styleClass="GreenButton" />
									</div>
									<div class="ui-g-2" />
									<div class="ui-g-2">
										<p:commandButton value="Cancel" ajax="false" immediate="true"
											type="button" onclick="PF('newMsg').hide();">
											<p:resetInput target="grid" />
										</p:commandButton>
									</div>
									<div class="ui-g-3" />
								</div>
							</p:dialog>
						</h:form>

					</div>
				</div>
			</div>
		</div>


	</ui:define>

</ui:composition>